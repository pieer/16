<script setup lang="ts">
import { ref, watchEffect } from 'vue'
const props = defineProps({
  chat: {
    default: null,
  }
})

const mouthAnimation = ref(null)

watchEffect(() => {
  if (mouthAnimation.value && props.chat) {
    mouthAnimation.value.beginElement()
  }
})
</script>

<template>
<svg
  @click="mouthAnimation.beginElement()"
  class="w-1/3 mx-auto"
  id="face"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  viewBox="0 0 376 376"
  shape-rendering="geometricPrecision"
  text-rendering="geometricPrecision"
  >
<g clip-path="url(#circle)">
  <circle
    cx="188"
    cy="188"
    r="188"
    fill="white"
  />
  <g id="face-g1"
    v-motion
    :initial="{
      opacity: 0,
      y: 100,
    }"
    :enter="{
      opacity: 1,
      y: 0,
      transition: {
        type: 'spring',
        stiffness: '100',
        delay: 300,
      },
    }">
    <path id="face-path1" d="M279.616,315.846C279.73,315.789,323.611,317.111,323.611,317.111C289.4,352.83,241.196,375.091,187.822,375.091C172.948,375.091,158.474,373.362,144.603,370.096L201.607,347.571L203.004,350.705L216.461,351.549L240.113,346.132C240.113,346.132,279.563,316.175,279.616,315.846Z" clip-rule="evenodd" fill="rgb(184,220,132)" fill-rule="evenodd" stroke="none" stroke-width="1"/>
    <path id="face-path2" d="M240.737,343.761L279.564,314.241L318.133,316.946L244.452,354.135L205.022,354.33L202.481,349.489L240.737,343.761Z" clip-rule="evenodd" fill="rgb(59,98,25)" fill-rule="evenodd" stroke="none" stroke-width="1"/>
    <path id="face-path3" d="M279.186,318.47L236.331,345.935L205.97,335.645L193.134,326.687L161.143,332.04L141.28,321.663L114.681,274.547L89.4158,173.648L92.6731,143.669L138.796,134.865L228.132,129.35L255.822,161.516L257.968,207.281L282.69,222.328L279.186,318.47Z" fill="rgb(230,187,161)" stroke="none" stroke-width="1"/>
    <path id="face-path4" d="M235.308,320.226L211.868,163.701L213.06,133.398L247.875,154.321L268.256,193.04L296.223,189.111L301.99,209.053L295.184,241.792L281.841,242.065L280.998,267.571L279.429,317.496L275.501,336.635L237.667,357.179L240.223,329.542L235.308,320.226Z" fill="rgb(203,150,118)" stroke="none" stroke-width="1"/>
    <path id="face-path5" d="M193.097,326.719L246.27,318.406L237.524,358.446L205.292,356.46L193.097,326.719Z" fill="rgb(146,100,77)" stroke="none" stroke-width="1"/>
    <path id="face-path6" d="M205.395,259.642L168.196,254.599L150.477,257.725L125.878,275.682L114.695,274.547L140.628,322.479L160.384,333.005L214.021,324.274L232.43,303.005L225.915,257.479L205.395,259.642Z" fill="rgb(138,128,120)" stroke="none" stroke-width="1"/>
    <path id="face-path7" d="M242.092,187.082L270.617,201.337L265.047,229.456L246.276,318.405L214.045,324.235L232.347,303.017L225.906,257.478L239.579,225.248L242.092,187.082Z" fill="rgb(122,113,105)" stroke="none" stroke-width="1"/>
    <path id="face-path8" d="M150.476,257.725L168.195,254.598L158.997,198.319L141.278,201.445L150.476,257.725Z" fill="rgb(238,201,179)" stroke="none" stroke-width="1"/>
    <path id="face-path9" d="M150.476,257.725L161.788,263.968L168.195,254.599L150.476,257.725Z" fill="rgb(146,100,77)" stroke="none" stroke-width="1"/>
    <path id="face-path10" d="M281.839,242.302L265.387,237.433L281.173,264.292L281.839,242.302Z" fill="rgb(146,100,77)" stroke="none" stroke-width="1"/>
    <path id="face-path11" d="M293.039,202.534L279.226,199.268L275.835,221.647L293.039,202.534Z" fill="rgb(146,100,77)" stroke="none" stroke-width="1"/>
    <path id="face-path12" d="M235.826,70.8756L234.152,114.756L213.385,134.929L212.837,134.362L146.591,134.921L174.487,69.0714L235.826,70.8756Z" fill="rgb(192,155,132)" stroke="none" stroke-width="1"/>
    <path id="face-path13" d="M291.178,128.632L299.671,171.365L292.269,189.642L269.262,193.675L270.616,201.381L241.851,186.994L243.094,166.506L213.387,134.929L235.828,70.8757L276.037,110.018L291.178,128.632Z" fill="rgb(180,128,97)" stroke="none" stroke-width="1"/>
    <path id="face-path14" d="M146.638,134.93L92.7143,143.663L123.819,98.8709L174.506,69.0627L146.638,134.93Z" fill="rgb(212,176,154)" stroke="none" stroke-width="1"/>
    <path id="face-path15" d="M187.452 291.574L200.224 268L131 279.386L152.926 295.883L187.452 291.574Z" fill="rgb(255,255,255)" stroke="rgb(203,150,118)" stroke-width="4">
      <animate
        ref="mouthAnimation"
        begin="click"
        attributeName="d" 
        dur="2s" 
        repeatCount="1"
        fill="freeze"
        keyTimes="0; 0.1; 0.2; 0.3; 0.4; 0.5; 0.6; 0.7; 0.8; 0.9; 1"
        values="M 187.452, 291.574,L 200.224, 268,L 131, 279.386,L 152.926, 295.883,L 187.452, 291.574,Z;
                M 187.452, 291.574,L 200.224, 268,L 131, 279.386,L 152.926, 295.883,L 187.452, 291.574,Z;
                M 178.197, 275.682,L 200.224, 268,L 131, 279.386,L 158.191, 279.386,L 178.197, 275.682,Z;
                M 178.197, 286.365745,L 187.816, 267.571, L 144.603, 275.682, L 154.7365, 286.365745, L 178.197, 286.365745, Z;
                M 187.452, 291.574,L 200.224, 268, L 131, 279.386, L 152.926, 295.883, L 187.452, 291.574, Z;
                M 187.452, 291.574,L 200.224, 268, L 131, 279.386, L 152.926, 295.883, L 187.452, 291.574, Z;
                M 178.197, 275.682,L 200.224, 268, L 131, 279.386, L 158.191, 279.386, L 178.197, 275.682, Z;
                M 178.197, 286.365745,L 187.816, 267.571, L 144.603, 275.682, L 154.7365, 286.365745, L 178.197, 286.365745, Z;
                M 178.197, 275.682,L 200.224, 268, L 131, 279.386, L 158.191, 279.386, L 178.197, 275.682, Z;
                M 187.452, 291.574,L 200.224, 268, L 131, 279.386, L 152.926, 295.883, L 187.452, 291.574, Z;
                M 187.452, 291.574,L 200.224, 268, L 131, 279.386, L 152.926, 295.883, L 187.452, 291.574, Z;
        "/>
      </path>
    />
    <path id="face-path16" d="M150.478,257.723L141.28,201.443L132.34,186.902L108.772,178.7L92.6841,176.141L123.186,217.837L150.478,257.723Z" fill="rgb(203,150,118)" stroke="none" stroke-width="1"/>
    <path id="face-path17" d="M168.187,254.598L178.2,205.771L198.098,181.453L170.902,173.476L160.846,181.089L158.989,198.318L168.187,254.598Z" fill="rgb(203,150,118)" stroke="none" stroke-width="1"/>
    <path id="face-path18" d="M116.813,216.329C116.696,216.822,116.637,217.327,116.637,217.834C116.637,221.412,119.587,224.355,123.173,224.355C126.758,224.355,129.709,221.412,129.709,217.834C129.709,214.822,127.617,212.184,124.68,211.489C121.192,210.67,117.646,212.852,116.813,216.329Z" fill="rgb(43,43,43)" stroke="none" stroke-width="1">
      <animate
        attributeName="d"
        repeatCount="indefinite"
        keyTimes="0; 0.5; 0.51; 0.52; 1"
        dur="4s"
        values="M 116.813, 216.329,C 116.696, 216.822, 116.637, 217.327, 116.637, 217.834,C 116.637, 221.412, 119.587, 224.355, 123.173, 224.355,C 126.758, 224.355, 129.709, 221.412, 129.709, 217.834,C 129.709, 214.822, 127.617, 212.184, 124.68, 211.489,C 121.192, 210.67, 117.646, 212.852, 116.813, 216.329, Z;
                M 116.813, 216.329,C 116.696, 216.822, 116.637, 217.327, 116.637, 217.834,C 116.637, 221.412, 119.587, 224.355, 123.173, 224.355,C 126.758, 224.355, 129.709, 221.412, 129.709, 217.834,C 129.709, 214.822, 127.617, 212.184, 124.68, 211.489,C 121.192, 210.67, 117.646, 212.852, 116.813, 216.329, Z;
                M 116.813, 216.329,C 116.696, 216.822, 119.609, 216.932, 119.609, 216.932,C 119.609, 216.932, 123.186, 216.932, 123.186, 216.932,C 123.186, 216.932, 129.409668, 216.329, 131, 216.329,C 131, 216.329, 123.819, 216.329, 123.819, 216.329,C 123.819, 216.329, 116.813, 214.791656, 116.813, 216.329, Z;
                M 116.813, 216.329,C 116.696, 216.822, 116.637, 217.327, 116.637, 217.834,C 116.637, 221.412, 119.587, 224.355, 123.173, 224.355,C 126.758, 224.355, 129.709, 221.412, 129.709, 217.834,C 129.709, 214.822, 127.617, 212.184, 124.68, 211.489,C 121.192, 210.67, 117.646, 212.852, 116.813, 216.329, Z;
                M 116.813, 216.329,C 116.696, 216.822, 116.637, 217.327, 116.637, 217.834,C 116.637, 221.412, 119.587, 224.355, 123.173, 224.355,C 126.758, 224.355, 129.709, 221.412, 129.709, 217.834,C 129.709, 214.822, 127.617, 212.184, 124.68, 211.489,C 121.192, 210.67, 117.646, 212.852, 116.813, 216.329, Z;
        "/>
    </path>
    <path id="face-path19" d="M171.843,204.271C171.727,204.761,171.669,205.262,171.669,205.765C171.669,209.343,174.62,212.286,178.205,212.286C181.791,212.286,184.741,209.343,184.741,205.765C184.741,202.753,182.648,200.114,179.71,199.42C179.214,199.302,178.706,199.242,178.197,199.242C175.175,199.242,172.531,201.336,171.843,204.271Z" fill="rgb(43,43,43)" stroke="none" stroke-width="1">
      <animate
        attributeName="d"
        repeatCount="indefinite"
        keyTimes="0; 0.5; 0.51; 0.52; 1"
        dur="4s"
        values="M 171.843, 204.271,C 171.727, 204.761, 171.669, 205.262, 171.669, 205.765,C 171.669, 209.343, 174.62, 212.286, 178.205, 212.286,C 181.791, 212.286, 184.741, 209.343, 184.741, 205.765,C 184.741, 202.753, 182.648, 200.114, 179.71, 199.42,C 179.214, 199.302, 178.706, 199.242, 178.197, 199.242,C 175.175, 199.242, 172.531, 201.336, 171.843, 204.271, Z;
                M 171.843, 204.271,C 171.727, 204.761, 171.669, 205.262, 171.669, 205.765,C 171.669, 209.343, 174.62, 212.286, 178.205, 212.286,C 181.791, 212.286, 184.741, 209.343, 184.741, 205.765,C 184.741, 202.753, 182.648, 200.114, 179.71, 199.42,C 179.214, 199.302, 178.706, 199.242, 178.197, 199.242,C 175.175, 199.242, 172.531, 201.336, 171.843, 204.271, Z;
                M 171.843, 204.271,C 171.727, 204.761, 171.669, 205.765, 171.669, 205.765,C 171.669, 205.765, 174.615, 205.771, 178.2, 205.771,C 181.786, 205.771, 184.741, 205.771, 184.741, 205.765,C 184.741, 204.271, 180.359, 204.271, 180.359, 204.271,C 179.863, 204.153, 176.345656, 204.271, 176.345656, 204.271,C 176.345656, 204.271, 173.5625, 204.218658, 171.843, 204.271, Z;
                M 171.843, 204.271,C 171.727, 204.761, 171.669, 205.262, 171.669, 205.765,C 171.669, 209.343, 174.62, 212.286, 178.205, 212.286,C 181.791, 212.286, 184.741, 209.343, 184.741, 205.765,C 184.741, 202.753, 182.648, 200.114, 179.71, 199.42,C 179.214, 199.302, 178.706, 199.242, 178.197, 199.242,C 175.175, 199.242, 172.531, 201.336, 171.843, 204.271, Z;
                M 171.843, 204.271,C 171.727, 204.761, 171.669, 205.262, 171.669, 205.765,C 171.669, 209.343, 174.62, 212.286, 178.205, 212.286,C 181.791, 212.286, 184.741, 209.343, 184.741, 205.765,C 184.741, 202.753, 182.648, 200.114, 179.71, 199.42,C 179.214, 199.302, 178.706, 199.242, 178.197, 199.242,C 175.175, 199.242, 172.531, 201.336, 171.843, 204.271, Z;
        "/>
    </path>
    <path id="face-path20" d="M202.527,177.856L198.105,181.454L170.909,173.477L160.853,181.09L158.191,178.563L163.987,161.869L202.527,177.856Z" fill="rgb(71,71,71)" stroke="none" stroke-width="1"/>
    <path id="face-path21" d="M132.348,186.904L119.609,188.446L108.78,178.702L92.6918,176.142L109.488,171.677L132.348,186.904Z" fill="rgb(71,71,71)" stroke="none" stroke-width="1"/>
  </g>
</g>
<defs>
<clipPath id="circle">
<circle cx="188" cy="188" r="188" fill="white" style="transform-origin: 50% 50%"
  v-motion
  :initial="{ opacity: 0, scale: 0.1 }"
  :enter="{
    opacity: 1,
    scale: 1,
    transition: {
      type: 'spring',
      stiffness: '100',
      origin: 'center'
    },
  }"
  :hovered="{ scale: 1.2 }"
/>
</clipPath>
</defs>
</svg>

</template>
